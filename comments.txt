“ест операций доступа к аппаратным ресурсам из пространства пользовател€ (Linux).

test_iopl
ƒл€ операций с портами ввода-вывода используетс€ функци€ IOPL, понижающа€
привилегии портов ввода-вывода (Input-Output Privelege Level) до текущего
уровн€ привилегий приложени€. ƒл€ пользовательских приложений,
CPL (Current Privilege Level) = 3. 
”становив значение IOPL = 3, можно выполнить операции с портами из
приложени€.

ѕримечание.
ѕри управлении IOPL и CPL максимальному уровню привилегий соответствует
численно минимальный код 0.

test_mmio
ƒл€ операций с пространством пам€ти используетс€ картирование (установка
отображени€ диапазона физического адресного пространства на диапазон
виртуального адресного пространства приложени€).
ѕример основан на использовании устройства /dev/mem.

test_io
јльтернативный метод доступа к портам с использованием устройства /dev/port.

physical_IO_from_application.png
ѕример чтени€ порта 0060h (порт данных контроллера клавиатуры).
ѕрочитан байт 1Ch, это скан-код нажати€ клавиши ENTER.
ќпыт на виртуальной машине Oracle VMBox.

physical_MMIO_from_application.png
ѕример дампа пам€ти, отображаетс€ 512-байтный блок старших адресов
BIOS ROM.
ќпыт на виртуальной машине Oracle VMBox.

‘айл-устройство "/dev/mem" представл€ет физическое адресное пространство
платформы в виде двоичного файла. »спользу€ механизм отображени€ файлов
на пам€ть, можно создать диапазон memory-mapped IO в адресном пространстве
приложени€ (Ring 3).
ќпераци€ требует прав суперпользовател€, запускать тесты следует в режиме
"sudo". “ребование прав суперпользовател€ относитс€ как к MMIO, так и IO.
